"use strict";(self.webpackChunkonekey_document=self.webpackChunkonekey_document||[]).push([[8795],{1417:function(n,e,t){t.r(e),t.d(e,{frontMatter:function(){return i},contentTitle:function(){return c},metadata:function(){return l},toc:function(){return m},default:function(){return p}});var a=t(7462),o=t(3366),r=(t(7294),t(3905)),s=t(9216),i={hide_table_of_contents:!0,draft:!0},c=void 0,l={unversionedId:"Connect/Method List/eosSignTransaction",id:"Connect/Method List/eosSignTransaction",isDocsHomePage:!1,title:"eosSignTransaction",description:"Eos: sign transaction",source:"@site/docs/Connect/Method List/eosSignTransaction.mdx",sourceDirName:"Connect/Method List",slug:"/Connect/Method List/eosSignTransaction",permalink:"/en/Connect/Method List/eosSignTransaction",editUrl:"https://github.com/onekeyhq/documents/edit/main/docs/Connect/Method List/eosSignTransaction.mdx",version:"current",frontMatter:{hide_table_of_contents:!0,draft:!0}},m=[{value:"Eos: sign transaction",id:"eos-sign-transaction",children:[{value:"Params",id:"params",children:[]},{value:"Transfer example",id:"transfer-example",children:[]},{value:"Result",id:"result",children:[]}]}],d={toc:m};function p(n){var e=n.components,t=(0,o.Z)(n,["components"]);return(0,r.kt)("wrapper",(0,a.Z)({},d,t,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"eos-sign-transaction"},"Eos: sign transaction"),(0,r.kt)("p",null,"Asks device to sign given transaction using the private key derived by given ",(0,r.kt)("a",{parentName:"p",href:"./path"},"BIP44 path"),". User is asked to confirm all transaction\ndetails on OneKey."),(0,r.kt)("p",null,"ES6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const result = await OneKeyConnect.eosSignTransaction(params);\n")),(0,r.kt)("p",null,"CommonJS"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"OneKeyConnect.eosSignTransaction(params).then(function(result) {\n\n});\n")),(0,r.kt)("h3",{id:"params"},"Params"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"./commonParams"},(0,r.kt)("strong",{parentName:"a"},"Optional common params"))),(0,r.kt)("h6",{id:"flowtype"},(0,r.kt)("a",{parentName:"h6",href:"https://github.com/OneKeyHQ/connect/blob/onekey/src/js/types/params.js#L69-L72"},"flowtype")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"path")," \u2014 ",(0,r.kt)("em",{parentName:"li"},"required")," ",(0,r.kt)("inlineCode",{parentName:"li"},"string | Array<number>")," minimum length is ",(0,r.kt)("inlineCode",{parentName:"li"},"3"),". ",(0,r.kt)("a",{parentName:"li",href:"./path"},"read more")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"transaction")," - ",(0,r.kt)("em",{parentName:"li"},"required")," ",(0,r.kt)("inlineCode",{parentName:"li"},"Object")," type of ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/OneKeyHQ/connect/blob/onekey/src/js/types/eos.js#L145-L149"},"Transaction"))),(0,r.kt)("h3",{id:"transfer-example"},"Transfer example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"OneKeyConnect.eosSignTransaction({\n    path: \"m/44'/194'/0'/0/0\",\n    transaction: {\n        chainId: 'cf057bbfb72640471fd910bcb67639c22df9f92470936cddc1ade0e2f2e7dc4f',\n        header: {\n            expiration: '2019-12-01T12:00:00',\n            refBlockNum: 6439,\n            refBlockPrefix: 2995713264,\n            maxNetUsageWords: 0,\n            maxCpuUsageMs: 0,\n            delaySec: 0,\n        },\n        actions: [{\n            account: 'eosio.token',\n            authorization: [{\n                actor: 'abcdefg12345',\n                permission: 'active',\n            }],\n            name: 'transfer',\n            data: {\n                from: 'abcdefg12345',\n                to: '12345abcdefg',\n                quantity: '1.0000 EOS',\n                memo: 'memo',\n            },\n        }]\n    }\n});\n")),(0,r.kt)("h3",{id:"result"},"Result"),(0,r.kt)("h6",{id:"flowtype-1"},(0,r.kt)("a",{parentName:"h6",href:"https://github.com/OneKeyHQ/connect/blob/onekey/src/js/types/eos.js#L160-L163"},"flowtype")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"{\n    success: true,\n    payload: {\n        signature: string, // hexadecimal string\n    }\n}\n")),(0,r.kt)("p",null,"Error"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"{\n    success: false,\n    payload: {\n        error: string // error message\n    }\n}\n")),(0,r.kt)(s.Z,{initValue:"OneKeyConnect.eosSignTransaction({\n    path: \"m/44'/194'/0'/0/0\",\n    transaction: {\n        chainId: 'cf057bbfb72640471fd910bcb67639c22df9f92470936cddc1ade0e2f2e7dc4f',\n        header: {\n            expiration: '2019-12-01T12:00:00',\n            refBlockNum: 6439,\n            refBlockPrefix: 2995713264,\n            maxNetUsageWords: 0,\n            maxCpuUsageMs: 0,\n            delaySec: 0,\n        },\n        actions: [{\n            account: 'eosio.token',\n            authorization: [{\n                actor: 'abcdefg12345',\n                permission: 'active',\n            }],\n            name: 'transfer',\n            data: {\n                from: 'abcdefg12345',\n                to: '12345abcdefg',\n                quantity: '1.0000 EOS',\n                memo: 'memo',\n            },\n        }]\n    }\n});",mdxType:"Playground"}))}p.isMDXComponent=!0}}]);